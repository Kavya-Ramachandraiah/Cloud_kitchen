<form action="#" th:action="@{/saveOrder}" th:object="${order}" method="post">
    <div>
        <label for="dishName">Dish Name:</label>
        <input type="text" id="dishNameInput" name="dishName" required oninput="updateDishList()">
    </div>
    <div>
        <label for="deliveryDate">Delivery Date:</label>
        <input type="date" id="deliveryDate" name="deliveryDate" required>
    </div>
    <div>
        <label for="numberOfPeople">Number of People:</label>
        <input type="number" id="numberOfPeople" name="numberOfPeople" required>
    </div>
    <div>
        <label for="caterer">Select Caterer:</label>
        <select id="caterer" name="catererId" required>
            <option value="">Select Caterer</option>
            <!-- Iterate over the list of caterers fetched from the backend -->
            <th:block th:each="caterer : ${catererList}">
                <!-- Display ID, full name, and specialization -->
                <option th:value="${caterer.id}" th:text="${caterer.id + ' - ' + caterer.fullName + ' (' + caterer.specialization + ')'}"></option>
            </th:block>
        </select>
    </div>
    <button type="submit">Submit</button>
</form>

<div>
    <h3>Selected Dishes:</h3>
    <ul id="dishList"></ul>
</div>

<script>
    function updateDishList() {
        var dishInput = document.getElementById("dishNameInput");
        var dishList = document.getElementById("dishList");
        // Clear existing list
        dishList.innerHTML = "";
        // Split input value by comma and iterate through each dish
        var dishes = dishInput.value.split(",");
        for (var i = 0; i < dishes.length; i++) {
            // Create list item for each dish and append to the list
            var listItem = document.createElement("li");
            listItem.textContent = dishes[i].trim(); // Trim whitespace
            dishList.appendChild(listItem);
        }
    }
</script>
